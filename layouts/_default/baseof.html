<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{{ .Site.Title }}</title>
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
    <link rel="apple-touch-icon" href="/favicon.ico">
    {{ partial "styles.html" . }}
</head>
<body>
<button class="dark-mode-toggle" onclick="toggleDarkMode()" aria-label="Toggle dark mode">
    <span class="dark-mode-icon">üåô</span>
</button>
<div class="container">
    {{ block "main" . }}{{ end }}
</div>
<footer class="footer">
    Adapted from <a href="https://lucylai.com/">https://lucylai.com/</a>
</footer>
<script>
function toggleDarkMode() {
    document.body.classList.toggle('dark-mode');
    const isDark = document.body.classList.contains('dark-mode');
    localStorage.setItem('darkMode', isDark);
    updateDarkModeIcon(isDark);
}

function updateDarkModeIcon(isDark) {
    const icon = document.querySelector('.dark-mode-icon');
    if (icon) {
        icon.textContent = isDark ? '‚òÄÔ∏è' : 'üåô';
    }
}

// Load saved preference
document.addEventListener('DOMContentLoaded', function() {
    const savedDarkMode = localStorage.getItem('darkMode') === 'true';
    if (savedDarkMode) {
        document.body.classList.add('dark-mode');
    }
    updateDarkModeIcon(savedDarkMode);
});
</script>
</body>
</html>
